<mat-toolbar>
  <span class="total">200</span>
</mat-toolbar>
<div class="grid">
  <mat-card class="add_">
    <form>

      <mat-form-field>
        <input matInput placeholder="name" [(ngModel)]="name" name="name" type="text" required>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="price" [(ngModel)]="price" name="price" type="number" required>
      </mat-form-field>
    </form>
    <mat-card-actions>
      <button mat-button type="submit" class="add_buttom" (click)="addSubscription(name, price)">Submit</button>
    </mat-card-actions>
  </mat-card>



  <mat-card *ngFor="let subscription of subscriptions; let i=index" class="contract">
    <ng-container *ngIf="!subscription.isEdit">
      <mat-card-title>{{subscription.name }}</mat-card-title>
    </ng-container>
    <ng-container *ngIf="subscription.isEdit">
      <input matInput placeholder="name" class="form-control" [(ngModel)]="subscription.name" name="edit_name"
        type="text" required>
    </ng-container>
    <mat-card-content>
      <ng-container *ngIf="!subscription.isEdit">
        <p>¥{{subscription.price}}</p>
      </ng-container>
      <ng-container *ngIf="subscription.isEdit">
        <input matInput placeholder="price" class="form-control" [(ngModel)]="subscription.price" name="edit_price"
          type="text" required>
        <div class="edit-buttom">
          <button class="btn btn-success" mat-button (click)="saveEditSubscription(i, subscription.key)">保存</button>
          <button class="btn btn-warning" mat-button (click)="toggleEditSubscription(i)">キャンセル</button>
        </div>
      </ng-container>


      <div class="editor">
        <i class=" fa fa-edit fa-1.8x" title="編集" (click)="toggleEditSubscription(i)"></i>
        <i class="fa fa-trash fa-1.8x" title="削除" (click)="deleteItem(subscription.key)"></i>
      </div>
    </mat-card-content>
  </mat-card>
</div>
